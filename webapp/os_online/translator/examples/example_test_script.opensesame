# Generated by OpenSesame 2.8.1~pre1 (Gutsy Gibson)
# Fri Feb 28 18:14:37 2014 (posix)
# <http://www.cogsci.nl/opensesame>

set mouse_backend "xpyriment"
set subject_parity "even"
set height "768"
set font_family "mono"
set font_italic "no"
set synth_backend "legacy"
set title "Tutorial: Gaze cuing"
set coordinates "relative"
set start "experiment"
set sampler_backend "legacy"
set transparent_variables "no"
set foreground "black"
set font_bold "no"
set description "Default description"
set background "white"
set font_size "18"
set keyboard_backend "legacy"
set canvas_backend "xpyriment"
set compensation "0"
set bidi "no"
set subject_nr "0"
set width "1024"

define reset_feedback reset_feedback

define sketchpad gaze_cue
	set duration "495"
	set description "Displays stimuli"
	draw image 0 0 "gaze_[gaze_cue].png" scale=1 center=1 show_if="always"

define feedback feedback
	set duration "keypress"
	set reset_variables "yes"
	set description "Provides feedback to the participant"
	draw textline 0.0 -128.0 "Your average response time was [avg_rt]ms" center=1 color=black font_family="mono" font_size=18 font_italic=no font_bold=no show_if="always" html="yes"
	draw textline 0.0 -64.0 "Your accuracy was [acc]%" center=1 color=black font_family="mono" font_size=18 font_italic=no font_bold=no show_if="always" html="yes"
	draw textline 0.0 64.0 "Press any key to continue ..." center=1 color=black font_family="mono" font_size=18 font_italic=no font_bold=no show_if="always" html="yes"

define form_text_display end_of_experiment
	set rows "1;4;1"
	set description "A simple text display form"
	set cols "1;1;1"
	__form_text__
	The experiment is finished!
	
	Thank you for participating.
	
	Click on Ok to end the experiment.
	__end__
	set form_title "<span size=24>End of experiment</span>"
	set ok_text "Ok"
	widget 0 0 3 1 label text="[form_title]"
	widget 0 1 3 1 label center="no" text="[form_text]"
	widget 1 2 1 1 button text="[ok_text]"


define sketchpad welcome
	set duration "keypress"
	set start_response_interval "no"
	set description "Displays stimuli"
	draw textline 0 0 "OpenSesame 2.8.0 <i>Gutsy Gibson</i>" center=1 color=white font_family="serif" font_size=32 font_italic=no font_bold=no show_if="always" html="yes"

define form_text_display end_of_practice
	set rows "1;4;1"
	set description "A simple text display form"
	set cols "1;1;1"
	__form_text__
	The practice phase is finished!
	
	Click on Ok to start the real experiment.
	__end__
	set form_title "<span size=24>End of practice</span>"
	set ok_text "Ok"
	widget 0 0 3 1 label text="[form_title]"
	widget 0 1 3 1 label center="no" text="[form_text]"
	widget 1 2 1 1 button text="[ok_text]"


define keyboard_response keyboard_response
	set allowed_responses "z;m"
	set description "Collects keyboard responses"
	set timeout "2000"
	set flush "yes"

define sequence block_sequence
	run reset_feedback "always"
	run block_loop "always"
	run feedback "always"

define loop practice_loop
	set repeat "2"
	set description "Repeatedly runs another item"
	set item "block_sequence"
	set column_order ""
	set cycles "1"
	set order "random"
	run block_sequence

define loop block_loop
	set repeat "3"
	set description "Repeatedly runs another item"
	set item "trial_sequence"
	set column_order "target_pos;gaze_cue;target_letter;dist_pos;correct_response"
	set cycles "8"
	set order "random"
	setcycle 0 correct_response "z"
	setcycle 0 target_pos "-300"
	setcycle 0 dist_pos "300"
	setcycle 0 gaze_cue "left"
	setcycle 0 target_letter "F"
	setcycle 1 correct_response "m"
	setcycle 1 target_pos "-300"
	setcycle 1 dist_pos "300"
	setcycle 1 gaze_cue "left"
	setcycle 1 target_letter "H"
	setcycle 2 correct_response "z"
	setcycle 2 target_pos "-300"
	setcycle 2 dist_pos "300"
	setcycle 2 gaze_cue "right"
	setcycle 2 target_letter "F"
	setcycle 3 correct_response "m"
	setcycle 3 target_pos "-300"
	setcycle 3 dist_pos "300"
	setcycle 3 gaze_cue "right"
	setcycle 3 target_letter "H"
	setcycle 4 correct_response "z"
	setcycle 4 target_pos "300"
	setcycle 4 dist_pos "-300"
	setcycle 4 gaze_cue "left"
	setcycle 4 target_letter "F"
	setcycle 5 correct_response "m"
	setcycle 5 target_pos "300"
	setcycle 5 dist_pos "-300"
	setcycle 5 gaze_cue "left"
	setcycle 5 target_letter "H"
	setcycle 6 correct_response "z"
	setcycle 6 target_pos "300"
	setcycle 6 dist_pos "-300"
	setcycle 6 gaze_cue "right"
	setcycle 6 target_letter "F"
	setcycle 7 correct_response "m"
	setcycle 7 target_pos "300"
	setcycle 7 dist_pos "-300"
	setcycle 7 gaze_cue "right"
	setcycle 7 target_letter "H"
	run trial_sequence

define sequence experiment
	run instructions "always"
	run practice_loop "always"
	run end_of_practice "always"
	run experimental_loop "always"
	run end_of_experiment "always"

define sequence trial_sequence
	run fixation_dot "always"
	run neutral_gaze "always"
	run gaze_cue "always"
	run target "always"
	run keyboard_response "always"
	run incorrect_sound "[correct] = 0"
	run logger "always"

define loop experimental_loop
	set repeat "8"
	set description "Repeatedly runs another item"
	set item "block_sequence"
	set column_order ""
	set cycles "1"
	set order "random"
	run block_sequence

define sketchpad target
	set duration "0"
	set description "Displays stimuli"
	draw image 0 0 "gaze_[gaze_cue].png" scale=1 center=1 show_if="always"
	draw textline [target_pos] 0 "[target_letter]" center=1 color=black font_family="mono" font_size=32 font_italic=no font_bold=no show_if="always" html="yes"
	draw textline [dist_pos] 0 "X" center=1 color=black font_family="mono" font_size=32 font_italic=no font_bold=no show_if="always" html="yes"

define sketchpad fixation_dot
	set duration "745"
	set description "Displays stimuli"
	draw fixdot 0 0 color=black show_if="always"

define logger logger
	set description "Logs experimental data"

define sketchpad neutral_gaze
	set duration "745"
	set description "Displays stimuli"
	draw image 0 0 "gaze_neutral.png" scale=1 center=1 show_if="always"

define notepad getting_started
	__note__
	Hi,
	
	Welcome to OpenSesame 2.8.0 "Gutsy Gibson"!
	
	If you are new to OpenSesame, you may wish to follow one of the tutorials,
	which can be found online.
	
	There are also many example experiments, which may help you to get started
	with creating your own. These can be found in the "examples" folder provided
	with OpenSesame or, again, online,
	
	For more information, please refer to OpenSesame documentation area:
	
	- <http://osdoc.cogsci.nl/>
	
	And feel free to ask for help on the forum:
	
	- <http://forum.cogsci.nl/>
	
	Have fun with OpenSesame!
	
	--
	
	Sebastiaan
	__end__
	set description "Some pointers to help you get started!"

define sampler incorrect_sound
	set volume "1"
	set description "Plays a sound file in .wav or .ogg format"
	set sample "incorrect.ogg"
	set pitch "1"
	set duration "sound"
	set stop_after "0"
	set pan "0"
	set fade_in "0"

define form_text_display instructions
	set rows "1;4;1"
	set description "A simple text display form"
	set cols "1;1;1"
	__form_text__
	Your task is to indicate whether you see an <b>F</b> or an <b>F</b>.
	
	Be as quick and accurate as possible!
	
	Click on Ok to start practice.
	__end__
	set form_title "<span size=24>Instructions</span>"
	set ok_text "Ok"
	widget 0 0 3 1 label text="[form_title]"
	widget 0 1 3 1 label center="no" text="[form_text]"
	widget 1 2 1 1 button text="[ok_text]"


